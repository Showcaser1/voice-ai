<!DOCTYPE html>
<html>
<head>
  <title>Free TTS Generator</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <h1>ElevenLabs TTS Generator</h1>
  <textarea id="text" placeholder="Type something..."></textarea><br>
  <select id="voice">
    <option value="Adam">Adam (Default)</option>
    <option value="Bella">Bella</option>
    <option value="Antoni">Antoni</option>
  </select>
  <button onclick="generateSpeech()">Generate</button>
  <audio id="audio" controls></audio>

  <script>
    async function generateSpeech() {
      const API_KEY = prompt("Enter YOUR ElevenLabs API key (safe, stays in your browser):");
      const text = document.getElementById("text").value;
      const voice = document.getElementById("voice").value;

      try {
        const response = await axios.post(
          `https://api.elevenlabs.io/v1/text-to-speech/${voice}`,
          { text: text, voice_settings: { stability: 0.5, similarity_boost: 0.5 } },
          { 
            headers: { "xi-api-key": API_KEY, "Content-Type": "application/json" },
            responseType: "arraybuffer"
          }
        );
        const audio = new Audio(URL.createObjectURL(new Blob([response.data], { type: "audio/mpeg" })));
        document.getElementById("audio").src = audio.src;
      } catch (error) {
        alert("Error: " + error.message);
      }
    }
  </script>
</body>
</html>
